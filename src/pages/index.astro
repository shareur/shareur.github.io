---
import Card from "../components/Card.astro";
import TagBar from "../components/TagBar.astro";

import links from "../../public/links.json" assert { type: 'json' };

const langDefault: 'zh' | 'en' = 'zh';
const allItems = links.groups.flatMap(g => g.items.map(i => ({...i, __group: g})));
const allTags = Array.from(new Set([ 'ALL', ...allItems.flatMap(i => i.tags || []) ]));
---
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{links.meta.title_zh} · imyang.world</title>
    <meta name="description" content="Yang 的个人导航与书签分享" />
    <meta name="theme-color" content="#0ea5e9" />
    <link rel="icon" href="/favicon.svg" />
  </head>
  <body class="bg-slate-50 text-slate-800 dark:bg-slate-900 dark:text-slate-100">
    <div class="container">
      <header class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6">
        <div>
          <h1 class="m-0 text-3xl font-bold tracking-tight">imyang.world</h1>
          <p id="subtitle" class="m-0 mt-1 text-sm text-slate-500 dark:text-slate-400">{links.meta.title_zh}</p>
        </div>
        <div class="flex items-center gap-2">
          <button id="langToggle" class="px-3 py-2 rounded-xl text-sm border border-slate-300 dark:border-slate-700">中文 / EN</button>
          <button id="themeToggle" class="px-3 py-2 rounded-xl text-sm border border-slate-300 dark:border-slate-700">🌙 / ☀️</button>
        </div>
      </header>
    </div>
  </body>
</html>
